Responda las siguientes preguntas respecto del mecanismo de control de congestión.

El control de congestión en TCP es un conjunto de algoritmos que buscan evitar que la red se sature. A diferencia del control de flujo (que gestiona la capacidad del receptor), el control de congestión gestiona la capacidad de la red intermedia entre el emisor y el receptor.

a. ¿Quién activa el mecanismo de control de congestión? ¿Cuáles son los posibles
disparadores?
El mecanismo de control de congestión es **activado y gestionado por el remitente (el emisor de datos)**. Aunque los signos de congestión provienen de la red, es el remitente quien adapta su tasa de envío en respuesta a estos signos. Principalmente, regulando la ventana de congestión.
b. ¿Qué problema resuelve?
El control de congestión resuelve el problema del **colapso de la red (congestion collapse)**.
El colapso de la red ocurre cuando un exceso de tráfico en la red lleva a una cascada de problemas:
- **Sobrecarga de routers:** Los routers intermedios se ven abrumados, sus colas de paquetes se llenan y empiezan a descartar paquetes.
- **Retransmisiones innecesarias:** Los emisores, al no recibir ACKs, asumen pérdidas y retransmiten paquetes. Estas retransmisiones añaden aún más tráfico a la red ya congestionada, creando un círculo vicioso.
- **Aumento de la latencia:** Los paquetes pasan más tiempo en las colas de los routers.
- **Disminución del rendimiento efectivo:** A pesar de que se envían muchos paquetes, la cantidad de datos útiles que llegan a su destino disminuye drásticamente, ya que gran parte del ancho de banda se gasta en retransmisiones y paquetes descartados.
c. Diferencie slow start de congestion-avoidance.
Slow Start (Arranque Lento) y Congestion Avoidance (Evitación de Congestión) son dos fases distintas del algoritmo de control de congestión de TCP, que se utilizan en diferentes momentos de la vida de una conexión TCP. Ambas fases regulan el tamaño de la **ventana de congestión (cwnd)**.

**1. Slow Start (Arranque Lento)**
- **Propósito:** El objetivo principal es **sondear rápidamente** la capacidad disponible del ancho de banda al comienzo de una conexión o después de una retransmisión por timeout, pero de forma controlada.
- **Cómo funciona (crecimiento de `cwnd`):**
    - `cwnd` se inicializa a un valor bajo (típicamente 1, 2 o 10 MSS - Maximum Segment Size, dependiendo de la implementación y el RFC).
    - Por **cada ACK recibido** que acusa recibo de nuevos datos, `cwnd` se incrementa en 1 MSS.
    - Esto resulta en un **crecimiento exponencial** de `cwnd`. Por cada RTT (tiempo de ida y vuelta), `cwnd` se duplica.
- **Cuándo se usa:**
    - Al **comienzo de una nueva conexión** TCP.
    - Después de una **pérdida de paquete detectada por un timeout** (lo que sugiere congestión severa), ya que el remitente asume que la red está muy congestionada y necesita empezar de nuevo cautelosamente.
- **Transición a Congestion Avoidance:** Slow Start continúa hasta que `cwnd` alcanza un umbral llamado **`ssthresh` (slow start threshold)**. Una vez que `cwnd >= ssthresh`, el algoritmo pasa a la fase de Congestion Avoidance.

**2. Congestion Avoidance (Evitación de Congestión)**
- **Propósito:** El objetivo es **evitar una congestión mayor** una vez que se ha alcanzado un cierto nivel de tráfico. En lugar de sondear agresivamente, busca aumentar la tasa de envío de manera más cautelosa.
- **Cómo funciona (crecimiento de `cwnd`):**
    - Cuando el algoritmo entra en esta fase, `cwnd` ya es igual a `ssthresh`.
    - Por **cada RTT completo** (es decir, después de que se han recibido ACKs para todos los segmentos enviados en un RTT), `cwnd` se incrementa en 1 MSS.
    - Esto resulta en un **crecimiento lineal** (aditivo) de `cwnd`.
- **Cuándo se usa:**
    - Después de que la fase de Slow Start ha alcanzado el `ssthresh`.
    - Después de una **pérdida de paquete detectada por tres ACKs duplicados** (conocido como "Fast Retransmit" o "Recuperación Rápida"), en este caso `ssthresh` se reduce a la mitad de `cwnd`, y se entra directamente en Congestion Avoidance (sin pasar por Slow Start). Esto se considera una señal de congestión moderada, no severa.
- **Qué ocurre con la congestión:**
    - Si se detecta una **pérdida por timeout**, `ssthresh` se establece a la mitad de `cwnd` y `cwnd` se reinicia a 1 MSS, volviendo a la fase de **Slow Start**.
    - Si se detecta una **pérdida por tres ACKs duplicados**, `ssthresh` se establece a la mitad de `cwnd`, `cwnd` se establece a `ssthresh` (o `ssthresh + 3 MSS`), y se permanece en la fase de **Congestion Avoidance** (Fast Recovery).